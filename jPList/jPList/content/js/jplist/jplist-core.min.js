/*
 jPList - jQuery Data Grid Controls - http://jplist.com 
 Copyright 2011 - 2015 Miriam Zusin.
 The MIT License (MIT) http://opensource.org/licenses/MIT
*/
(function(){var d=function(b,a,e){switch(a){case "add":b&&(b.controller&&b.controller.collection&&e.$item)&&(a=b.controller.collection.dataitems.length,jQuery.isNumeric(e.index)&&(0<=e.index&&e.index<=b.controller.collection.dataitems.length)&&(a=Number(e.index)),b.controller.collection.addDataItem(e.$item,b.controller.collection.paths,a),b.observer.trigger(b.observer.events.unknownStatusesChanged,[!1]));break;case "del":b&&(b.controller&&b.controller.collection&&e.$item)&&(b.controller.collection.delDataitem(e.$item),
e.$item.remove(),b.observer.trigger(b.observer.events.unknownStatusesChanged,[!1]));break;case "getDataItems":e=null;if(b.options&&b.options.dataSource)switch(b.options.dataSource.type){case "html":b.controller&&b.controller.collection&&(e=b.controller.collection.dataitems);break;case "server":b.controller&&(b.controller.model&&b.controller.model.dataItem)&&(e=b.controller.model.dataItem)}return e}},c=function(b,a){var e={observer:null,panel:null,controller:null,$root:a};e.options=jQuery.extend(!0,
{debug:!1,command:"init",commandData:{},itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},
serverOkCallback:null,serverErrorCallback:null},render:null}},b);e.observer=new jQuery.fn.jplist.app.events.PubSub(e.$root,e.options);e.history=new jQuery.fn.jplist.app.History(e.$root,e.options,e.observer);e.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(a,e.options,e.history,e.observer);e.options.dataSource=e.options.dataSource||{};e.options.dataSource.type=e.options.dataSource.type||"html";jQuery.fn.jplist.info(e.options,"Data Source Type: ",e.options.dataSource.type);switch(e.options.dataSource.type){case "html":e.controller=
new jQuery.fn.jplist.ui.list.controllers.DOMController(e.$root,e.options,e.observer,e.panel,e.history);break;case "server":jQuery.fn.jplist.info(e.options,"Data Source: ",e.options.dataSource),e.controller=new jQuery.fn.jplist.ui.list.controllers.ServerController(e.$root,e.options,e.observer,e.panel,e.history)}e.observer.trigger(e.observer.events.init,[]);return jQuery.extend(this,e)};jQuery.fn.jplist=function(b){if(b.command&&"init"!==b.command){var a;if(a=this.data("jplist"))return d(a,b.command,
b.commandData)}else return this.each(function(){var a,d=jQuery(this);a=new c(b,d);d.data("jplist",a)})};jQuery.fn.jplist.controlTypes={};jQuery.fn.jplist.itemControlTypes={};jQuery.fn.jplist.settings={};jQuery.fn.jplist.app=jQuery.fn.jplist.app||{};jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{};jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{};jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{};jQuery.fn.jplist.app.events=jQuery.fn.jplist.app.events||
{};jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{};jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{};jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{};jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{};jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{};jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{};jQuery.fn.jplist.domain.dom.services.SortService=
jQuery.fn.jplist.domain.dom.services.SortService||{};jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{};jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{};jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{};jQuery.fn.jplist.domain.deeplinks=jQuery.fn.jplist.domain.deeplinks||{};jQuery.fn.jplist.domain.deeplinks.services=jQuery.fn.jplist.domain.deeplinks.services||{};jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||
{};jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{};jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{};jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{};jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{};jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{};jQuery.fn.jplist.ui.list.collections=jQuery.fn.jplist.ui.list.collections||{};jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{};jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||
{};jQuery.fn.jplist.ui.itemControls=jQuery.fn.jplist.ui.itemControls||{};jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{};jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{};jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{};jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{}})();(function(){var d=function(c,b){var a={options:b,$root:c,events:{},events:{init:"1",unknownStatusesChanged:"2",knownStatusesChanged:"3",statusChanged:"4",statusesChangedByDeepLinks:"5",listSorted:"6",listFiltered:"7",listPaginated:"8",dataItemAdded:"9",dataItemRemoved:"10",collectionReadyEvent:"11",statusesAppliedToList:"12",animationStartEvent:"13",animationStepEvent:"14",animationCompleteEvent:"15"}};return jQuery.extend(!0,jQuery({}),this,a)};jQuery.fn.jplist.app.events.PubSub=function(c,b){return new d(c,
b)}})();(function(){jQuery.fn.jplist.app.dto.StatusDTO=function(d,c,b,a,e,h,f,g){this.action=c;this.name=d;this.type=b;this.data=a;this.inStorage=e;this.inAnimation=h;this.isAnimateToTop=f;this.inDeepLinking=g}})();(function(){var d=function(c,b,a){return jQuery.extend(this,{options:b,observer:a,$root:c,statusesQueue:[],listStatusesQueue:[]})};d.prototype.addStatus=function(c){this.statusesQueue.push(c);this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()};d.prototype.getLastStatus=function(){var c=null;0<this.statusesQueue.length&&(c=this.statusesQueue[this.statusesQueue.length-1]);return c};d.prototype.popStatus=function(){var c=null;0<this.statusesQueue.length&&(c=this.statusesQueue.pop());
return c};d.prototype.getLastList=function(){var c=null;0<this.listStatusesQueue.length&&(c=this.listStatusesQueue[this.listStatusesQueue.length-1]);return c};d.prototype.addList=function(c){this.listStatusesQueue.push(c);this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()};d.prototype.popList=function(){var c=null;0<this.listStatusesQueue.length&&(c=this.listStatusesQueue.pop());return c};jQuery.fn.jplist.app.History=function(c,b,a){return new d(c,b,a)}})();(function(){var d=function(c,b,a){return jQuery.extend(this,{options:c,observer:b,statuses:a})};d.prototype.findStatusByField=function(c,b){for(var a=-1,e,d=0;d<this.statuses.length;d++)if(e=this.statuses[d],e[b]===c[b]){a=d;break}return a};d.prototype.getStatusesByAction=function(c){for(var b=[],a,e=0;e<this.statuses.length;e++)a=this.statuses[e],a.action===c&&b.push(a);return b};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(c,b,a){return new d(c,b,a)}})();(function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={};jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(d.data.value,b,c,d.data.ignore)};jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);
return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(b,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(b,c,d.data.min,d.data.max,d.data.prev,d.data.next)};jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,
null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(d.data.year,d.data.month,d.data.day,b,c,d.data.format)};jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(b,c,d.data.format,d.data.prev_year,d.data.prev_month,d.data.prev_day,d.data.next_year,d.data.next_month,d.data.next_day)};jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=
function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(d.data.pathGroup,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(d.data.textGroup,d.data.logic,d.data.path,d.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(d.data.textAndPathsGroup,
d.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.autocomplete=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter(d.data.latitude,d.data.longitude,d.data.name,c,d.data.radius)};jQuery.fn.jplist.app.services.DTOMapperService.sort={};jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(c,
b,d.data.order,a,d.data.ignore||"")};jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(c,b,d.data.order,a)};jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(c,
b,d.data.order,a,d.data.dateTimeFormat||"")}})();(function(){jQuery.fn.jplist.logEnabled=function(d){return d.debug&&window.console&&jQuery.isFunction(window.console.log)};jQuery.fn.jplist.log=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.log(c,b)};jQuery.fn.jplist.info=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.info(c,b)};jQuery.fn.jplist.error=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.error(c,b)};jQuery.fn.jplist.warn=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.warn(c,
b)}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(d,c){this.jqPath=d;this.dataType=c};jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(d,c){var b=!1;c?this.jqPath===d.jqPath&&(b=!0):this.jqPath===d.jqPath&&this.dataType===d.dataType&&(b=!0);return b}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(d,c){this.$element=d;this.path=c;this.text=d.text();this.html=d.html()}})();(function(){var d=function(c,b,a){a={html:null,pathitems:[],$item:c,index:a};a.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(c);var e,d;c=[];for(var f=0;f<b.length;f++)e=b[f],d=a.$item.find(e.jqPath),0<d.length&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(d,e),c.push(e));a.pathitems=c;return jQuery.extend(this,a)};d.prototype.findPathitem=function(c){for(var b=null,a,e=0;e<this.pathitems.length;e++)if(a=this.pathitems[e],a.path.isEqual(c,!0)){b=a;break}return b};
jQuery.fn.jplist.domain.dom.models.DataItemModel=function(c,b,a){c=new d(c,b,a);this.html=c.html;this.jqElement=c.$item;this.pathitems=c.pathitems;this.index=c.index;this.findPathitem=c.findPathitem}})();(function(){var d=function(a,e){var b,c,d;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("filter",e);if(0<b.length){for(var g=0;g<b.length;g++)if((c=b[g])&&c.data&&c.data.filterType)d=jQuery.fn.jplist.app.services.DTOMapperService.filters[c.data.filterType],jQuery.isFunction(d)&&(a.dataview=d(c,a.dataview));a.observer.trigger(a.observer.events.listFiltered,[e,a])}},c=function(a,e){var b,c=null,d;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,
a.observer,e)).getStatusesByAction("paging",e);if(0<b.length){for(var g=0;g<b.length;g++)c=b[g],d=c.data.currentPage||0,c=new jQuery.fn.jplist.domain.dom.services.PaginationService(d,c.data.number,a.dataview.length),b[g].data.paging=c,a.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(c,a.dataview);a.observer.trigger(a.observer.events.listPaginated,[e,a])}},b=function(a,e){var b,c,d=[],g;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,e)).getStatusesByAction("sort",
e);if(0<b.length){for(var f=0;f<b.length;f++)if((c=b[f])&&c.data&&c.data.sortGroup&&jQuery.isArray(c.data.sortGroup)&&0<c.data.sortGroup.length)for(var h=0;h<c.data.sortGroup.length;h++)g=new jQuery.fn.jplist.app.dto.StatusDTO(c.name,c.action,c.type,c.data.sortGroup[h],c.inStorage,c.inAnimation,c.isAnimateToTop,c.inDeepLinking),d.push(g);else d.push(c);jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(d,a.dataview);a.observer.trigger(a.observer.events.listSorted,[e,a])}},a=function(a){return jQuery(a.dataview).map(function(a,
e){return e.jqElement.get()})},e=function(a){return jQuery(a.dataitems).map(function(a,e){return e.jqElement.get()})},h=function(a){a.dataview=jQuery.merge([],a.dataitems)},f=function(a,e){for(var b,c=-1,d,g=0;g<a.dataitems.length;g++)if(b=a.dataitems[g],b=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b.jqElement),d=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(e),b===d){c=g;break}return c},g=function(a,e){var b;b=f(a,e);-1!==b&&(a.dataitems.splice(b,1),a.observer.trigger(a.observer.events.dataItemRemoved,
[e,a.dataitems]))},k=function(a,e){e.each(function(){g(a,jQuery(this))})},l=function(a,e,b,c){e=new jQuery.fn.jplist.domain.dom.models.DataItemModel(e,b,c);a.dataitems.splice(c,0,e);a.observer.trigger(a.observer.events.dataItemAdded,[e,a.dataitems])},m=function(a,e,b,c){for(var d;b<e.length;b++)d=e.eq(b),l(a,d,c,b),b+1<e.length&&0===b%50&&window.setTimeout(function(){m(a,e,b,c)},0)},n=function(a,e,b,c){a={dataitems:[],dataview:[],options:a,observer:e,paths:c};0<b.length&&(m(a,b,0,c),h(a));a.observer.trigger(a.observer.events.collectionReadyEvent,
[a]);return jQuery.extend(this,a)};n.prototype.applyStatuses=function(a){h(this);b(this,a);d(this,a);c(this,a);this.observer.trigger(this.observer.events.statusesAppliedToList,[this,a])};n.prototype.filter=function(a){d(this,a)};n.prototype.sort=function(a){b(this,a)};n.prototype.pagination=function(a){c(this,a)};n.prototype.dataviewToJqueryObject=function(){return a(this)};n.prototype.dataitemsToJqueryObject=function(){return e(this)};n.prototype.resetDataview=function(){h(this)};n.prototype.empty=
function(){this.dataitems=[];this.dataview=[]};n.prototype.addDataItem=function(a,e,b){l(this,a,e,b)};n.prototype.addDataItems=function(a,e){m(this,a,0,e);h(this)};n.prototype.delDataitem=function(a){g(this,a)};n.prototype.delDataitems=function(a){k(this,a)};n.prototype.indexOf=function(a){return f(this,a)};n.prototype.dataviewToString=function(){var a,e="",b;for(b=0;b<this.dataview.length;b++)a=this.dataview[b],e+=a.content;return e};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(a,
e,b,c){b=new n(a,e,b,c);this.observer=e;this.options=a;this.dataitems=b.dataitems;this.dataview=b.dataview;this.paths=b.paths;this.sort=b.sort;this.filter=b.filter;this.pagination=b.pagination;this.applyStatuses=b.applyStatuses;this.addDataItem=b.addDataItem;this.addDataItems=b.addDataItems;this.resetDataview=b.resetDataview;this.indexOf=b.indexOf;this.delDataitem=b.delDataitem;this.delDataitems=b.delDataitems;this.empty=b.empty;this.dataviewToString=b.dataviewToString;this.dataviewToJqueryObject=
b.dataviewToJqueryObject;this.dataitemsToJqueryObject=b.dataitemsToJqueryObject}})();(function(){var d=function(b,a){for(var e,c=!1,d=0;d<b.paths.length;d++)if(e=b.paths[d],e.isEqual(a,!0)){c=!0;break}return c},c=function(b,a){return jQuery.extend(this,{options:b,observer:a,paths:[]})};c.prototype.add=function(b){d(this,b)||this.paths.push(b)};c.prototype.addRange=function(b){for(var a=0;a<b.length;a++){var e=b[a];d(this,e)||this.paths.push(e)}};c.prototype.isPathInList=function(b){return d(this,b)};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(b,a){return new c(b,
a)}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(d,c,b){b=Number(b);isNaN(b)&&(b=0);b=this.itemsNumber=b;null===c?c=b:(c=Number(c),isNaN(c)&&(c=b));this.itemsOnPage=c;c=(c=this.itemsOnPage)?Math.ceil(this.itemsNumber/c):0;c=this.pagesNumber=c;d=Number(d);isNaN(d)&&(d=0);d>c-1&&(d=0);this.currentPage=d;this.start=this.currentPage*this.itemsOnPage;d=this.itemsNumber;c=this.start+this.itemsOnPage;c>d&&(c=d);this.end=c;d=this.currentPage;this.prevPage=0>=d?0:d-1;d=this.currentPage;
c=this.pagesNumber;this.nextPage=0===c?0:d>=c-1?c-1:d+1}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(d,c,b){b=Number(b);isNaN(b)&&(b=0);b=this.itemsNumber=b;null===c?c=b:(c=Number(c),isNaN(c)&&(c=b));this.itemsOnPage=c;c=(c=this.itemsOnPage)?Math.ceil(this.itemsNumber/c):0;c=this.pagesNumber=c;d=Number(d);isNaN(d)&&(d=0);d>c-1&&(d=0);this.currentPage=d;this.start=this.currentPage*this.itemsOnPage;d=this.itemsNumber;c=this.start+this.itemsOnPage;c>d&&(c=d);this.end=c;d=this.currentPage;this.prevPage=0>=d?0:d-1;d=this.currentPage;
c=this.pagesNumber;this.nextPage=0===c?0:d>=c-1?c-1:d+1}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter=function(d,c,b,a,e){var h=[],f,g;if(jQuery.isNumeric(d)&&jQuery.isNumeric(c)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){d=new google.maps.LatLng(d,c);for(var k=0;k<a.length;k++)c=a[k],f=new jQuery.fn.jlocator.store(c.jqElement,{}),g=f.country?jQuery.trim(f.country.toLowerCase())==jQuery.trim(b.toLowerCase()):!1,f=google.maps.geometry.spherical.computeDistanceBetween(d,f.latlng),(f<=e||g)&&h.push(c);return h}return a}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(d,c,b,a,e,h){for(var f,g,k=[],l=0;l<e.length;l++)if(f=e[l],g=f.findPathitem(a))if(!jQuery.isNumeric(d)||!jQuery.isNumeric(c)||!jQuery.isNumeric(b))k.push(f);else if((g=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(g.text,h))&&jQuery.isFunction(g.getFullYear))g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.getFullYear()===d&&(g.getMonth()===c&&g.getDate()===b)&&k.push(f);return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(d,c,b,a,e,h,f,g,k){for(var l=[],m,n,q,p,r=0;r<c.length;r++)if(m=c[r],n=m.findPathitem(d))if(q=!jQuery.isNumeric(a)||!jQuery.isNumeric(e)||!jQuery.isNumeric(h),p=!jQuery.isNumeric(f)||!jQuery.isNumeric(g)||!jQuery.isNumeric(k),q||p)l.push(m);else if((p=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(n.text,b))&&jQuery.isFunction(p.getFullYear))n=new Date(a,e,h),q=new Date(f,g,k),p.setHours(0),
p.setMinutes(0),p.setSeconds(0),p>=n&&p<=q&&l.push(m);return l}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(d,c){return c.slice(d.start,d.end)}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(d,c){for(var b,a,e=[],h=0;h<c.length;h++)b=c[h],"default"===d.jqPath?e.push(b):(a=b.findPathitem(d))&&e.push(b);return e}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(d,c){var b,a=[],e,h=[];if(0>=d.length)return c;for(e=0;e<d.length;e++)b=d[e],b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,null),a.push(b);for(var f=0;f<c.length;f++){e=c[f];for(var g=0;g<a.length;g++)if(b=a[g],"default"===b.jqPath){h.push(e);break}else(b=e.findPathitem(b))&&h.push(e)}return h}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(d,c,b,a,e,h){b=[];for(var f,g=jQuery.isNumeric(e),k=jQuery.isNumeric(h),l=0;l<c.length;l++)if(a=c[l],f=a.findPathitem(d))f=Number(f.text.replace(/[^-0-9\.]+/g,"")),isNaN(f)||(g&&k?f>=e&&f<=h&&b.push(a):g&&!k?f>=e&&b.push(a):!g&&k&&f<=h&&b.push(a));return b}})();(function(){var d=function(a){var e=[],b;if(a)for(var c=0;c<a.length;c++)(b=jQuery.trim(a[c]))&&e.push(b);return e},c=function(a,e){var b=!1,c;c=e.split(" or ");c=d(c);if(0<c.length)for(var b=-1!==a.indexOf(c[0]),g=1;g<c.length;g++)b=b||-1!==a.indexOf(c[g]);return b},b=function(a,e){var b,f,g=!1;b=e.split(" and ");b=d(b);if(0<b.length){f=b[0];for(var g=-1===f.indexOf(" or ")?-1!==a.indexOf(f):c(a,f),k=1;k<b.length;k++)f=b[k],g=-1===f.indexOf(" or ")?g&&-1!==a.indexOf(f):g&&c(a,f)}return g};jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse=
function(a,e){e=jQuery.trim(e);if(-1===e.indexOf(" or ")&&-1===e.indexOf(" and ")&&-1===e.indexOf("not "))return-1!==a.indexOf(e);var h,f,g=!1;h=e.split("not ");h=d(h);if(0<h.length){f=h[0];for(var g=-1===f.indexOf(" and ")?-1===f.indexOf(" or ")?-1===a.indexOf(f):c(a,f):b(a,f),k=1;k<h.length;k++)f=h[k],g=-1===f.indexOf(" and ")?(g=-1===f.indexOf(" or ")?g&&-1===a.indexOf(f):g&&c(a,f))&&c(a,f):g&&b(a,f)}return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(d,c,b,a,e){var h,f,g,k=[],l,m;if(0>=d.length)return e;g=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,null);for(var n=0;n<e.length;n++)if(b=e[n],f=b.findPathitem(g),"default"===g.jqPath)k.push(b);else if(f)if(f=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f.text,a),"or"===c)for(m=0;m<d.length;m++){if(h=d[m],h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h,
a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(f,h)){k.push(b);break}}else{l=[];for(m=0;m<d.length;m++)h=d[m],h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(f,h)&&l.push(h);l.length===d.length&&k.push(b)}return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(d,c,b,a){for(var e,h,f=[],g,k=0;k<b.length;k++)e=b[k],h=e.findPathitem(c),"default"===c.jqPath?f.push(e):h&&(h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h.text,a),g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(h,g)&&f.push(e));return f}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(d,c,b){var a,e,h=[],f=[],g,k;for(k=0;k<d.length;k++)g=d[k],g.selected&&(a=g.path,e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a,null),g.pathObj=e,h.push(g));if(0>=h.length)return b;for(a=0;a<b.length;a++){d=b[a];k=!1;for(var l=0;l<h.length;l++)if(g=h[l],e=g.pathObj)if("default"===e.jqPath){k=!0;break}else if(e=d.findPathitem(e))e=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(e.text,
c),g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g.text,c),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(e,g)&&(k=!0);k&&f.push(d)}return f}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(d,c,b,a,e){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(jQuery.trim(e)?(a=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(d.text,e),e=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(c.text,e)):(a=new Date(Date.parse(d.text)),e=new Date(Date.parse(c.text))),a==e?0:"asc"==b?a>e?1:-1:a<e?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(d,c,b,a){b.sort(function(e,
b){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(e,b,d,c,a)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(d,c,b,a){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(a=parseFloat(d.text.replace(/[^-0-9\.]+/g,"")),c=parseFloat(c.text.replace(/[^-0-9\.]+/g,"")),b=a==c?0:"asc"==b?isNaN(a)?1:isNaN(c)?-1:a-c:isNaN(a)?1:isNaN(c)?-1:c-a):0};jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(d,c,b){b.sort(function(a,e){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(a,e,d,c)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(d,c,b,a,e){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(e?(a=RegExp(e,"ig"),e=d.text.toString().replace(a,"").toLowerCase(),d=c.text.toString().replace(a,"").toLowerCase()):(e=d.text.toString().toLowerCase(),d=c.text.toString().toLowerCase()),e==d?0:"asc"==b?e>d?1:-1:e<d?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.text=function(d,c,b,a){b.sort(function(e,b){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(e,
b,d,c,a)})}})();(function(){var d=function(c,b,a,e){var h=0,f,g;0<a.length&&(f=a[e],"default"!=f.data.path?(g=jQuery.fn.jplist.app.services.DTOMapperService.sort[f.data.type],jQuery.isFunction(g)&&(h=g(f,c,b))):(h=c.index,f=b.index,h=h===f?0:isNaN(h)?1:isNaN(f)?-1:h-f),0===h&&e+1<a.length&&(h=d(c,b,a,e+1)));return h};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(c,b){var a=!1;1===c.length&&(c[0]&&c[0].data&&"default"===c[0].data.path)&&(a=!0);a||b.sort(function(a,b){return d(a,b,c,0)});return b}})();(function(){var d=function(b,a){var e=null;if("{month}"==b){a=a.toLowerCase();if("january"===a||"jan"===a||"jan."===a)e=0;if("february"===a||"feb"===a||"feb."===a)e=1;if("march"===a||"mar"===a||"mar."===a)e=2;if("april"==a||"apr"===a||"apr."===a)e=3;"may"===a&&(e=4);if("july"==a||"jun"===a||"jun."===a)e=5;if("april"===a||"jul"===a||"jul."===a)e=6;if("august"===a||"aug"===a||"aug."===a)e=7;if("september"===a||"sep"===a||"sep."===a)e=8;if("october"===a||"oct"===a||"oct."===a)e=9;if("november"===a||
"nov"===a||"nov."===a)e=10;if("december"===a||"dec"===a||"dec."===a)e=11;null===e&&(e=parseInt(a,10),isNaN(e)||e--)}else e=parseInt(a,10);return e},c=function(b,a){var e,c=null;e=b.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(e=RegExp(e,"g").exec(a))&&1<e.length&&(c=e[1]);return c};jQuery.fn.jplist.domain.dom.services.HelperService={};jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(b){var a="",e=b[0].attributes,c=b.html();b=b[0].tagName.toString().toLowerCase();
for(var a=a+("<"+b),d=0;d<e.length;d++)e[d].nodeValue&&(a+=" "+e[d].nodeName+"=",a+='"'+e[d].nodeValue+'"');a=a+">"+c;return a+="</"+b+">"};jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(b,a){return!b?"":b.replace(RegExp(a,"ig"),"").toLowerCase()};jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(b,a){var e,h,f,g,k,l;a=a.replace(/\./g,"\\.");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");e=
a.replace("{year}","(.*)");(h=c(e,b))&&(h=d("{year}",h));e=a.replace("{day}","(.*)");(g=c(e,b))&&(g=d("{day}",g));e=a.replace("{month}","(.*)");(f=c(e,b))&&(f=d("{month}",f));e=a.replace("{hour}","(.*)");(k=c(e,b))&&(k=d("{hour}",k));e=a.replace("{min}","(.*)");(l=c(e,b))&&(l=d("{min}",l));e=a.replace("{sec}","(.*)");(e=c(e,b))&&(e=d("{sec}",e));if(!h||isNaN(h))h=1900;if(!f||isNaN(f))f=0;if(!g||isNaN(g))g=1;if(!k||isNaN(k))k=0;if(!l||isNaN(l))l=0;if(!e||isNaN(e))e=0;return new Date(h,f,g,k,l,e)}})();(function(){jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService={};jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.getUrlParams=function(d){var c=[],b,a=[],e,c=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(d.hashStart,"")));if(d.deepLinking&&""!==jQuery.trim(c))for(var c=c.split(d.delimiter1),h=0;h<c.length;h++)b=c[h],e=b.split("="),2===e.length&&(b=e[0],e=e[1],b=b.split(d.delimiter0),2===b.length&&(b={controlName:b[0],propName:b[1],propValue:e},a.push(b)));
return a};jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.updateUrlPerControls=function(d,c){var b="";if(d.deepLinking){b=c.getDeepLinksUrl();jQuery.fn.jplist.info(d,"Change Deep links URL according to statuses: ",b);var b=jQuery.trim(b.replace(d.hashStart,"")),a,b=""===b?d.hashStart:d.hashStart+b;window.location.hash!==b&&(a=window.location.href.indexOf(d.hashStart),b=-1==a?window.location.href+b:window.location.href.substring(0,a)+b,"replaceState"in window.history?window.history.replaceState("",
"",b):window.location.replace(b))}}})();(function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(d,c,b){this.content="";this.dataType=c;this.count=0;this.responseText=b;this.dataType||(this.dataType="html");switch(this.dataType){case "html":c=jQuery(d);0<c.length&&(this.content=c.html(),this.count=Number(c.attr("data-count"))||0);break;case "json":this.content=d.data;this.count=d.count;break;case "xml":c=jQuery(d).find("root"),this.count=Number(c.attr("count"))||0,this.content=0<this.count?d:""}}})();(function(){jQuery.fn.jplist.animation={};jQuery.fn.jplist.animation.drawItems=function(d,c,b,a,e,h,f,g){var k,l,m;if(e=jQuery.fn.jplist.animation[e]){k=e.before;m=e.effect;l=e.after;jQuery.isFunction(k)&&k(d,c,b,a);if(jQuery.isFunction(m))g.on(g.events.animationStepEvent,function(e,g,f){m(d,c,b,a,g)});g.on(g.events.animationCompleteEvent,function(e){jQuery.isFunction(l)&&l(d,c,b,a);g.off(g.events.animationStepEvent);g.off(g.events.animationCompleteEvent);jQuery.isFunction(f)&&f()});h.play(d.duration)}else jQuery.isFunction(f)&&
f()}})();(function(){var d=function(a){a.handler&&window.clearTimeout(a.handler);a.progress=0;a.start=null;a.observer.trigger(a.observer.events.animationCompleteEvent,[])},c=function(a,b){jQuery.isNumeric(b)&&0<b?a.handler=window.setTimeout(function(){var h;null===a.start&&(a.observer.trigger(a.observer.events.animationStartEvent,[]),a.start=(new Date).getTime());h=(new Date).getTime()-a.start;a.progress=h/b;1<=a.progress&&(a.progress=1);a.observer.trigger(a.observer.events.animationStepEvent,[100*a.progress,
a]);1>a.progress?c(a,b):d(a)},a.delay):d(a)},b=function(a,b,c){a={$scene:a,options:b,observer:c,start:null,progress:0,delay:null,handler:null};a.delay=1E3/a.options.fps;return jQuery.extend(this,a)};b.prototype.play=function(a){c(this,a)};b.prototype.stop=function(){d(this)};jQuery.fn.jplist.animation.Timeline=function(a,e,c){return new b(a,e,c)}})();(function(){jQuery.fn.jplist.animation.fade={};jQuery.fn.jplist.animation.fade.before=function(d,c,b,a){};jQuery.fn.jplist.animation.fade.effect=function(d,c,b,a,e){c.find(d.itemPath).css({opacity:(100-e)/100})};jQuery.fn.jplist.animation.fade.after=function(d,c,b,a){c.empty();a.css({opacity:1});c.append(a)}})();(function(){var d=function(a,b,c){var d=b.dataitemsToJqueryObject(),g=b.dataviewToJqueryObject(),k=!1,l,m=jQuery.extend(!0,{},a.options,{duration:0});0>=d.length||0>=g.length?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,g,c)):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"),a.options.effect?(a.history&&(l=a.history.getLastStatus())&&!l.inAnimation&&(k=!0),k=k?
m:a.options,jQuery.fn.jplist.animation.drawItems(k,a.$itemsBox,d,g,a.options.effect,a.timeline,function(){jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,g,c)},a.observer)):(d.detach(),a.$itemsBox.append(g),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,g,c)))},c=function(a){a.observer.on(a.observer.events.statusesAppliedToList,function(b,c,f){d(a,c,f)})},b=function(a,b,d,f){a={options:b,$root:a,observer:d,history:f,timeline:null,timelineZero:null,
$itemsBox:a.find(b.itemsBox).eq(0),$noResults:a.find(b.noResults)};a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.DOMView=function(a,e,c,d){return new b(a,e,c,d)}})();(function(){var d=function(b){b.observer.on(b.observer.events.knownStatusesChanged,function(a,e){b.storage.save(e);b.collection&&b.collection.applyStatuses(e)})},c=function(b,a,e,c,f){b={options:a,observer:e,$root:b,history:f,storage:new jQuery.fn.jplist.dal.Storage(b,a,e),collection:null,itemControls:null,listView:null};b.itemControls=new jQuery.fn.jplist.ui.list.collections.ItemControlCollection(b.options,b.observer,b.history,b.$root);b.listView=new jQuery.fn.jplist.ui.list.views.DOMView(b.$root,
b.options,b.observer,b.history);c=c.paths;a=b.$root.find(b.options.itemsBox).eq(0).find(b.options.itemPath);c=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(b.options,b.observer,a,c);b.collection=c;d(b);return jQuery.extend(this,b)};c.prototype.renderStatuses=function(b){this.storage.save(b);this.collection&&this.collection.applyStatuses(b)};jQuery.fn.jplist.ui.list.controllers.DOMController=function(b,a,e,d,f){return new c(b,a,e,d,f)}})();(function(){var d=function(b){b.observer.on(b.observer.events.knownStatusesChanged,function(a,e){var c="html";b.options.dataSource&&(b.options.dataSource.server&&b.options.dataSource.server.ajax)&&((c=b.options.dataSource.server.ajax.dataType)||(c="html"));b.storage.save(e);jQuery.fn.jplist.dal.services.URIService.get(e,b.options,function(a,e,d,l){a=new jQuery.fn.jplist.domain.server.models.DataItemModel(a,c,l.responseText);var m;d=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(b.options,b.observer,
e)).getStatusesByAction("paging",e);for(l=0;l<d.length;l++)m=d[l],m.data.currentPage||(m.data.currentPage=0),m=new jQuery.fn.jplist.domain.dom.services.PaginationService(m.data.currentPage,m.data.number,a.count),d[l].data.paging=m;b.observer.trigger(b.observer.events.statusesAppliedToList,[null,e]);b.model.set(a,e)},function(a){},function(a){})})},c=function(b,a,e,c,f){c=new jQuery.fn.jplist.dal.Storage(b,a,e);var g=jQuery({});g.$root=null;g.events={modelChanged:"modelChanged"};f={options:a,observer:e,
history:f,storage:c,scopeObserver:g,$root:b,view:null,model:null};f.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,f.scopeObserver);f.view=new jQuery.fn.jplist.ui.list.views.ServerView(b,a,e,f.scopeObserver,f.model,f.history);d(f);return jQuery.extend(this,f)};jQuery.fn.jplist.ui.list.controllers.ServerController=function(b,a,e,d,f){return new c(b,a,e,d,f)}})();(function(){var d=function(a,b,c){var d=!1,g,k=jQuery.extend(!0,{},a.options,{duration:0});!b.content||""===jQuery.trim(b.content)?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));a.options.effect?(a.history&&(g=a.history.getLastStatus())&&!g.inAnimation&&(d=!0),d=d?k:a.options,jQuery.fn.jplist.animation.drawItems(d,a.$itemsBox,null,jQuery(b.content),a.options.effect,a.timeline,function(){jQuery.isFunction(a.options.redrawCallback)&&
a.options.redrawCallback(b.content,c)},a.observer)):(a.options.dataSource&&jQuery.isFunction(a.options.dataSource.render)?a.options.dataSource.render(b,c):a.$itemsBox.html(b.content),jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b.content,c))},c=function(a){a.observer.on(a.observer.events.knownStatusesChanged,function(b,c){a.$noResults.addClass("jplist-hidden")});a.scopeObserver.on(a.scopeObserver.events.modelChanged,function(b,c,f){a.$preloader&&a.$preloader.addClass("jplist-hidden");
a.$itemsBox.removeClass("jplist-hidden");d(a,c,f)})},b=function(a,b,d,f,g,k){a={options:b,$root:a,observer:d,scopeObserver:f,model:g,history:k,$itemsBox:a.find(b.itemsBox).eq(0),$noResults:a.find(b.noResults),$preloader:null,timeline:null};a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.ServerView=function(a,c,d,f,g,k){return new b(a,c,d,f,g,k)}})();(function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(d,c,b){this.dataItem=d;this.statuses=c;this.scopeObserver=b};jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(d,c){this.dataItem=d;this.statuses=c;this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[d,c])}})();(function(){var d=function(c,b,a,e){return jQuery.extend(this,{options:c,observer:b,history:a,$root:e})};d.prototype.create=function(c){var b=null,a,e,d=null,f=null;a=c.attr("data-control-type");e={};jQuery.fn.jplist.itemControlTypes[a]&&(e=jQuery.extend(!0,{},e,jQuery.fn.jplist.itemControlTypes[a]));this.options.itemControlTypes&&this.options.itemControlTypes[a]&&(e=jQuery.extend(!0,{},e,this.options.itemControlTypes[a]));e&&(e.className&&(d=jQuery.fn.jplist.ui.itemControls[e.className]),e.options&&
(f=e.options));a={type:a,itemControlType:e,controlTypeClass:d,controlOptions:f};a=jQuery.extend(!0,a,{$control:c,history:this.history,observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(b=new a.controlTypeClass(a));return b};jQuery.fn.jplist.ui.list.ItemControlFactory=function(c,b,a,e){return new d(c,b,a,e)}})();(function(){var d=function(b){var a;b.options&&b.options.itemsBox&&(a=b.$root.find(b.options.itemsBox),0<a.length&&a.find("[data-control-type]").each(function(){var a=jQuery(this);(a=b.controlFactory.create(a))&&b.controls.push(a)}))},c=function(b,a,c,h){var f={options:b,observer:a,history:c,$root:h,controls:[],controlFactory:null};f.controlFactory=new jQuery.fn.jplist.ui.list.ItemControlFactory(b,a,c,h);d(f);return jQuery.extend(this,f)};jQuery.fn.jplist.ui.list.collections.ItemControlCollection=
function(b,a,e,d){return new c(b,a,e,d)}})();(function(){var d=function(a){var b=jQuery(window).scrollTop(),c;c=Number(a.data("top"));isNaN(c)||(b>c?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},c=function(a,b){b.each(function(){var a=jQuery(this),b=a.offset().top;a.data("top",b);d(a)});jQuery(window).scroll(function(){b.each(function(){d(jQuery(this))})})},b=function(b){var c=[];if("cookies"===b.options.storage||"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())if(jQuery.fn.jplist.info(b.options,
"Storage enabled: ",b.options.storage),"cookies"===b.options.storage&&(c=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(b.options.storageName)),"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(c=jQuery.fn.jplist.dal.services.LocalStorageService.restore(b.options.storageName)),0<c.length){for(var e=[],d=0;d<c.length;d++)c[d].inStorage&&e.push(c[d]);0<e.length&&(b.controls.setStatuses(e,!0),b.observer.trigger(b.observer.events.knownStatusesChanged,
[e]))}else a(b,!0);else a(b,!0)},a=function(a,b){var c;c=a.controls.getStatuses(b);a.observer.trigger(a.observer.events.knownStatusesChanged,[c]);jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.updateUrlPerControls(a.options,a.controls)},e=function(a){var b;b=[];b=a.$root.find(a.options.panelPath).find("[data-control-type]");a.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(a.options,a.observer,a.history,a.$root,b);a.paths=a.controls.getPaths();jQuery.fn.jplist.logEnabled(a.options)&&
(b=jQuery.map(a.paths,function(a,b){return a&&a.jqPath?a.jqPath:""}),jQuery.fn.jplist.info(a.options,"Panel paths: ",b.join(", ")))},h=function(c){c.observer.on(c.observer.events.init,function(a){c.options.deepLinking?(jQuery.fn.jplist.info(c.options,"Deep linking enabled",""),a=jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.getUrlParams(c.options),jQuery.fn.jplist.info(c.options,"Set statuses by deep link: ",a),0>=a.length?b(c):c.controls.setDeepLinks(a)):b(c)});c.observer.on(c.observer.events.statusesAppliedToList,
function(a,b,e){jQuery.fn.jplist.info(c.options,"panel statusesAppliedToList -> setControlsStatuses: ",e);c.controls.setStatuses(e,!1);c.history.addList(e)});c.observer.on(c.observer.events.unknownStatusesChanged,function(b,e){jQuery.fn.jplist.info(c.options,"panel statusesChanged, isDefault: ",e);a(c,e)});c.observer.on(c.observer.events.statusChanged,function(a,b){jQuery.fn.jplist.info(c.options,"panel statusChanged: ",b);var e;b.isAnimateToTop&&(e=jQuery(c.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:e},
c.options.animateToTopDuration));e=c.controls.merge(!1,b);c.observer.trigger(c.observer.events.knownStatusesChanged,[e]);jQuery.fn.jplist.domain.deeplinks.services.DeepLinksService.updateUrlPerControls(c.options,c.controls)});c.observer.on(c.observer.events.statusesChangedByDeepLinks,function(a,b,e,d){c.controls&&c.controls.statusesChangedByDeepLinks(d)});c.$root.find(c.options.iosBtnPath).on("click",function(){jQuery(this).next(c.options.panelPath).toggleClass("jplist-ios-show")})},f=function(a,
b,d,f){a={options:b,$root:a,history:d,observer:f,$sticky:null,paths:null,controls:null};e(a);a.$sticky=a.$root.find('[data-sticky="true"]');0<a.$sticky.length&&c(a,a.$sticky);h(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(a,b,c,e){a=new f(a,b,c,e);this.paths=a.paths;this.history=a.history;this.controls=a.controls}})();(function(){var d=function(c,b,a,e){return jQuery.extend(this,{options:c,observer:b,history:a,$root:e})};d.prototype.create=function(c){var b=null,a,e,d,f,g,k,l,m;a=c.attr("data-control-type");g=f=d=!0;k=!1;m=l=null;(e=c.attr("data-control-deep-link"))&&"false"===e.toString()&&(d=!1);(e=c.attr("data-control-storage"))&&"false"===e.toString()&&(f=!1);(e=c.attr("data-control-animation"))&&"false"===e.toString()&&(g=!1);(e=c.attr("data-control-animate-to-top"))&&"true"===e.toString()&&(k=!0);e={};jQuery.fn.jplist.controlTypes[a]&&
(e=jQuery.extend(!0,{},e,jQuery.fn.jplist.controlTypes[a]));this.options.controlTypes&&this.options.controlTypes[a]&&(e=jQuery.extend(!0,{},e,this.options.controlTypes[a]));e&&(e.className&&(l=jQuery.fn.jplist.ui.controls[e.className]),e.options&&(m=e.options));a={type:a,action:c.attr("data-control-action"),name:c.attr("data-control-name"),inDeepLinking:d,inStorage:f,inAnimation:g,isAnimateToTop:k,controlType:e,controlTypeClass:l,controlOptions:m,paths:[]};a=jQuery.extend(!0,a,{$control:c,history:this.history,
observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(b=new a.controlTypeClass(a));return b};jQuery.fn.jplist.ui.panel.ControlFactory=function(c,b,a,e){return new d(c,b,a,e)}})();(function(){var d=jQuery.fn.jplist.domain,c=function(a,b){for(var c,d=0;d<a.length;d++)c=a[d],c.name===b.name&&c.action===b.action&&jQuery.extend(!0,c,b);return a},b=function(a,b){for(var c=[],d,k,l,m=0;m<a.controls.length;m++)if(d=a.controls[m],jQuery.isFunction(d.getStatus)&&(d=d.getStatus(b))){k=-1;l=void 0;for(var n=0;n<c.length;n++)if(l=c[n],l.name===d.name){k=n;break}-1!=k?(l=c[k],l.action==d.action&&l.type!==d.type&&jQuery.extend(!0,c[k],d)):c.push(d)}return c},a=function(a,b,c,d,k){k={options:a,
observer:b,history:c,$root:d,controlFactory:null,$controls:k,controls:[]};k.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(a,b,c,d);for(a=0;a<k.$controls.length;a++)c=k.$controls.eq(a),b=k,(c=b.controlFactory.create(c))&&b.controls.push(c);return jQuery.extend(this,k)};a.prototype.merge=function(a,d){var f;f=b(this,a);return f=c(f,d)};a.prototype.statusesChangedByDeepLinks=function(a){for(var b,c=0;c<this.controls.length;c++)b=this.controls[c],jQuery.isFunction(b.setByDeepLink)&&b.setByDeepLink(a)};
a.prototype.setDeepLinks=function(a){var d,f,g,k=[],l;for(l=0;l<a.length;l++){d=a[l];f=d.controlName;var m=[];g=void 0;for(var n=0;n<this.controls.length;n++)g=this.controls[n],g.name===f&&m.push(g);f=m;for(m=0;m<f.length;m++)g=f[m],jQuery.isFunction(g.getStatusByDeepLink)&&(g=g.getStatusByDeepLink(d.propName,d.propValue))&&k.push(g)}d=b(this,!1);for(l=0;l<k.length;l++)c(d,k[l]);this.observer.trigger(this.observer.events.knownStatusesChanged,[d]);this.observer.trigger(this.observer.events.statusesChangedByDeepLinks,
[d,k,a])};a.prototype.setStatuses=function(a,b){for(var c,d,k=0;k<a.length;k++){c=a[k];d=c.name;for(var l=c.action,m=[],n=void 0,q=0;q<this.controls.length;q++)n=this.controls[q],n.name===d&&n.action===l&&m.push(n);d=m;for(l=0;l<d.length;l++)jQuery.isFunction(d[l].setStatus)&&d[l].setStatus(c,b)}};a.prototype.getDeepLinksUrl=function(){var a,b="",b=[],c="";a=this.controls;for(var d=[],k,l,m=0;m<a.length;m++){k=a[m];l=!0;for(var n=0;n<d.length;n++)if(d[n].name===k.name&&d[n].action===k.action){l=!1;
break}l&&d.push(k)}for(k=0;k<d.length;k++)a=d[k],jQuery.isFunction(a.getDeepLink)&&(c=jQuery.trim(a.getDeepLink())),""!==c&&-1===jQuery.inArray(c,b)&&b.push(c);return b=b.join(this.options.delimiter1)};a.prototype.getStatuses=function(a){return b(this,a)};a.prototype.getPaths=function(){var a,b=[],c;c=new d.dom.collections.DataItemMemberPathCollection(this.options,this.observer);for(var g=0;g<this.controls.length;g++)a=this.controls[g],jQuery.isFunction(a.getPaths)&&(a.getPaths(b),c.addRange(b));
return c.paths};a.prototype.add=function(a){(a=this.controlFactory.create(a))&&this.controls.push(a)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(b,c,d,g,k){return new a(b,c,d,g,k)}})();(function(){var d=function(a){var b=[];a=jQuery();jQuery(document).find("[data-control-type]").each(function(){var a=jQuery(this),c=a.attr("data-control-type");c&&(jQuery.fn.jplist.controlTypes[c]&&jQuery.fn.jplist.controlTypes[c].dropdown)&&b.push(a)});for(var c=0;c<b.length;c++)a=a.add(b[c]);return a},c=function(a){var b=d(a);0<b.length&&(jQuery(document).click(function(){b.find("ul").hide()}),jQuery(document).off(a.DROPDOWN_CLOSE_EVENT).on(a.DROPDOWN_CLOSE_EVENT,function(a,c){b.each(function(){jQuery(this).is(c)||
jQuery(this).find("ul").hide()})}));a.$control.find(".jplist-dd-panel").off().on("click",function(b){var c;b.stopPropagation();b=jQuery(this).parents("[data-control-type]");c=b.find("ul");jQuery(document).trigger(a.DROPDOWN_CLOSE_EVENT,[b]);c.toggle(0)})},b=function(a,b,d,f){a={options:a,observer:b,history:d,$control:f,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"};b=a.$control.find("li:eq(0)");b.addClass("active");b=b.find("span");0>=a.$control.find(".jplist-dd-panel").length&&a.$control.prepend('<div class="jplist-dd-panel">'+
b.text()+"</div>");c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.DropdownControl=function(a,c,d,f){return new b(a,c,d,f)}})();(function(){var d=function(c,b,a){c={options:b,observer:a,$root:c,isStorageEnabled:!1};c.isStorageEnabled="cookies"===c.options.storage||"localstorage"===c.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported();return jQuery.extend(this,c)};d.prototype.save=function(c){var b=[],a;if(c&&this.isStorageEnabled){for(var d=0;d<c.length;d++)a=c[d],a.inStorage&&b.push(a);"cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(b,this.options.storageName,
this.options.cookiesExpiration);"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(b,this.options.storageName)}};jQuery.fn.jplist.dal.Storage=function(c,b,a){return new d(c,b,a)}})();(function(){jQuery.fn.jplist.dal.services.CookiesService={};jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(d,c,b){c=escape(c);var a=new Date;b=Number(b);-1==b||isNaN(b)?document.cookie=d+"="+c+";path=/;":(a.setMinutes(a.getMinutes()+b),document.cookie=d+"="+c+";path=/; expires="+a.toUTCString())};jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(d){var c,b,a,e=null;a=document.cookie.split(";");for(var h=0;h<a.length;h++)if(c=a[h].substr(0,a[h].indexOf("=")),b=a[h].substr(a[h].indexOf("=")+
1),c=c.replace(/^\s+|\s+$/g,""),c==d){e=unescape(b);break}return e};jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(d,c,b){d=JSON.stringify(d);jQuery.fn.jplist.dal.services.CookiesService.setCookie(c,d,b)};jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(d){var c=[];(d=jQuery.fn.jplist.dal.services.CookiesService.getCookie(d))&&(c=jQuery.parseJSON(d));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.LocalStorageService={};jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(d){return!1}};jQuery.fn.jplist.dal.services.LocalStorageService.save=function(d,c){var b;b=JSON.stringify(d);window.localStorage[c]=b};jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(d){var c=[];(d=window.localStorage[d])&&(c=jQuery.parseJSON(d));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.URIService={};jQuery.fn.jplist.dal.services.URIService.get=function(d,c,b,a,e){var h=c.dataSource.server;h.ajax.data||(h.ajax.data={});h.ajax.data.statuses=encodeURIComponent(JSON.stringify(d,function(a,b){return b&&b.nodeType?null:b}));jQuery.ajax(h.ajax).done(function(a,c,e){jQuery.isFunction(b)&&b(a,d,c,e);jQuery.isFunction(h.serverOkCallback)&&h.serverOkCallback(a,d,c,e)}).fail(function(){jQuery.isFunction(a)&&a(d);jQuery.isFunction(h.serverErrorCallback)&&
h.serverErrorCallback(d)}).always(function(){jQuery.isFunction(e)&&e(d)})}})();
